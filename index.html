<!DOCTYPE html>
<html>
<head>
  <title>Remotely - API backed models and associations.</title>
  <link rel="stylesheet" type="text/css" href="stylesheets/main.css" />
  <link rel="stylesheet" type="text/css" href="stylesheets/tomorrownight.css" />
</head>
<body>
  <div id="wrap">
    <a id="source" href="https://github.com/wegowise/remotely">Source</a>

    <h1>Remotely</h1>
    <blockquote id="intro">API backed models and associations.</blockquote>

    <h2>Introduction <small>The low-down</small></h2>

    <p>
      Remotely allows you to create real, representative classes for remote API
      resources. In addition it allows you to associate your normal database models
      to remote ones.
    </p>

    <p>
      Remotely is an attempt to make working with JSON APIs easier and the code we write
      to do so, more coherent. You don't need to pass around an anonymous Hash fetched
      from some API; you can fetch real objects with properties and behaviors.
    </p>

    <h2>Installation <small>Getting the goods</small></h2>

    <div class="half-column">
      <h3>Rubygems</h3>

      <pre class="tomorrownight">
gem install remotely
</pre>
    </div>

    <div class="half-column last">
      <h3>Bundler</h3>

      <pre class="tomorrownight">
gem remotely
</pre>
    </div>

    <div class="clear"></div>

    <h2>Configuration <small>Defining Applications and Basic Auth</small></h2>

    <p>
      You define applications from which your models will derive their URIs. You
      can also specify the Basic Auth credentials for those applications, if need be. 
    </p>

    <pre class="tomorrownight">
<span class="Comment"><span class="Comment">#</span> config/initializers/remotely.rb</span>
<span class="ClassSupport">Remotely</span><span class="FunctionSpecialMethodBlockLevel"><span class="FunctionSpecialMethodBlockLevel">.</span><span class="FunctionSpecialMethodBlockLevel">configure</span></span> <span class="KeywordStorage">do</span>
  app <span class="StringSymbolsInheritedClassMarkupHeading"><span class="StringSymbolsInheritedClassMarkupHeading">:</span>dealer</span>, <span class="StringSymbolsInheritedClassMarkupHeading"><span class="StringSymbolsInheritedClassMarkupHeading">&quot;</span>http://dealership.com/api<span class="StringSymbolsInheritedClassMarkupHeading">&quot;</span></span>
  basic_auth user, password
<span class="KeywordStorage">end</span>
</pre>


    <h2>Models <small>Defining Model Classes</small></h2>

    <p>
      <code>Remotely::Model</code> is the meat and potatoes of Remotely. It's how you create
      models that map to a remote endpoint. Once created, you can interact with that resource
      as if it was a normal ActiveRecord::Base model <small>(for the most part)</small>.
    </p>

    <pre class="tomorrownight">
<span class="KeywordStorage">class</span> <span class="ClassSupport">Car<span class="StringSymbolsInheritedClassMarkupHeading"> <span class="StringSymbolsInheritedClassMarkupHeading">&lt;</span> Remotely::Model</span></span>
  app <span class="StringSymbolsInheritedClassMarkupHeading"><span class="StringSymbolsInheritedClassMarkupHeading">:</span>dealer</span>
  uri <span class="StringSymbolsInheritedClassMarkupHeading"><span class="StringSymbolsInheritedClassMarkupHeading">&quot;</span>/cars<span class="StringSymbolsInheritedClassMarkupHeading">&quot;</span></span>
<span class="KeywordStorage">end</span>
</pre>

    <h2>Endpoint Conventions <small>Methods and their respective URI</small></h2>

    <table border="0" id="uris">
      <tr>
        <th>Method</th>
        <th>URI</th>
      </tr>

      <tr><td colspan="2" class="heading">Class Methods</td></tr>
      <tr>
        <td>all</td>
        <td>GET /resources</td>
      </tr>
      <tr>
        <td>find</td>
        <td>GET /resources/:id</td>
      </tr>
      <tr>
        <td>where</td>
        <td>GET /resources/search</td>
      </tr>
      <tr>
        <td>create</td>
        <td>POST /resources</td>
      </tr>
      <tr>
        <td>destroy</td>
        <td>DELETE /resources/:id</td>
      </tr>

      <tr><td colspan="2" class="heading">Instance Methods</td></tr>
      <tr>
        <td>save <small>( new resource )</small></td>
        <td>POST /resources</td>
      </tr>
      <tr>
        <td>save <small>( retrieved resource )</small></td>
        <td>PUT /resources/:id</td>
      </tr>
      <tr>
        <td>destroy</td>
        <td>DELETE /resources/:id</td>
      </tr>
    </table>

    <h2>Associations <small>Connecting models and resources</small></h2>

    <pre class="tomorrownight">
<span class="KeywordStorage">class</span> <span class="ClassSupport">Book<span class="StringSymbolsInheritedClassMarkupHeading"> <span class="StringSymbolsInheritedClassMarkupHeading">&lt;</span> ActiveRecord::Base</span></span>
  belongs_to_remote <span class="StringSymbolsInheritedClassMarkupHeading"><span class="StringSymbolsInheritedClassMarkupHeading">:</span>library</span>
  has_many_remote   <span class="StringSymbolsInheritedClassMarkupHeading"><span class="StringSymbolsInheritedClassMarkupHeading">:</span>pages</span>
  has_one_remote    <span class="StringSymbolsInheritedClassMarkupHeading"><span class="StringSymbolsInheritedClassMarkupHeading">:</span>publisher</span>
<span class="KeywordStorage">end</span>
</pre>

    <p>
      The following table explains how Remotely fetches remote associations.
      <code>resource</code> is the model you're defining the association in
      and <code>association</code> is the object on the other end. Take note
      of where resource and association are singular versus plural.
    </p>

    <table border="0">
      <tr>
        <th>Association</th>
        <th>Required Attribute</th>
        <th>URI</th>
      </tr>
      <tr>
        <td>belongs_to_remote</td>
        <td>:association_id</td>
        <td>/associations/:association_id</td>
      </tr>
      <tr>
        <td>has_many_remote</td>
        <td>:id</td>
        <td>/resources/:id/associations</td>
      </tr>
      <tr>
        <td>has_one_remote</td>
        <td>:id</td>
        <td>/resources/:id/association</td>
      </tr>
    </table>
  </div>
</body>
</html>
